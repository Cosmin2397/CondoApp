@page "/EditFlat"
@page "/EditFlat/{Id}"
@inherits FlatEditBase

<div class="row">
    <div class="col-md-8 offset-2">
    <h5 style="text-align:center">Create new Flat</h5>
    </div>
    <DataAnnotationsValidator />
    <ValidationSummary></ValidationSummary>
    <div class="form-group row" style="padding-top:10px;">
            <div class="col-md-8 offset-2"> 
    <EditForm Model="@NewFlat" OnValidSubmit="@HandleValidRequest" OnInvalidSubmit="HandleInvalidRequest">
        <div class="form-group row" style="padding-top:10px;">
            <label class="col-md-2 col-form-label">Name</label>
            <div class="col-md-10">
            <InputText class="form-control" @bind-Value="@NewFlat.Name" id="Name"></InputText>
            </div>
        </div>
        <div class="form-group row" style="padding-top:10px;">
            <label class="col-md-2 col-form-label">Description</label>
            <div class="col-md-10">
            <InputTextArea class="form-control" @bind-Value="@NewFlat.Description" id="Description"></InputTextArea>
            </div>
        </div>
        <div class="form-group row" style="padding-top:10px;">
            <label class="col-md-2 col-form-label">Photo Url</label>
            <div class="col-md-10">
            <InputTextArea class="form-control" @bind-Value="@NewFlat.PictureURL" id="PhotoURL"></InputTextArea>
            </div>
        </div>
        <div class="form-group row" style="padding-top:10px;">
            <label class="col-md-2 col-form-label">Flat Number</label>
            <div class="col-md-10">
            <InputNumber class="form-control" @bind-Value="@NewFlat.FlatNum" id="FlatNum"></InputNumber>
            </div>
        </div>
        <div class="form-group row" style="padding-top:10px;">
            <label class="col-md-2 col-form-label">Surface</label>
            <div class="col-md-10">
            <InputNumber class="form-control" @bind-Value="@NewFlat.Surface" id="Surface"></InputNumber>
            </div>
        </div>
        <div class="form-group row" style="padding-top:10px;">
            <label class="col-md-2 col-form-label">Number of Rooms</label>
            <div class="col-md-10">
            <InputNumber class="form-control" @bind-Value="@NewFlat.NumOfRooms" id="NumOfRooms"></InputNumber>
            </div>
        </div>
        <div class="form-group row" style="padding-top:10px;">
            <label class="col-md-2 col-form-label">Floor</label>
            <div class="col-md-10">
            <InputNumber class="form-control" @bind-Value="@NewFlat.Floor" id="Floor"></InputNumber>
            </div>
        </div>
        <div class="form-group row" style="padding-top:10px;">
            <label class="col-md-2 col-form-label">Renting Price</label>
            <div class="col-md-10">
            <InputNumber class="form-control" @bind-Value="@NewFlat.RentingPrice" id="RentingPrice"></InputNumber>
            </div>
        </div>
        <div class="form-group row" style="padding-top:10px;">
            <label class="col-md-2 col-form-label">Building ID</label>
            <div class="col-md-10">
            <InputNumber class="form-control" @bind-Value="@NewFlat.BuildingID" id="BuildingID"></InputNumber>
            </div>
        </div>
        <div class="form-group row" style="padding-top:10px;">
            <label class="col-md-2 col-form-label">Is Rented?</label>
            <div class="col-md-10">
            <InputCheckbox class="form-check" @bind-Value="@NewFlat.IsRented" id="IsRented"></InputCheckbox>
            </div>
        </div>
        <div class="form-group" style="padding-top:10px;">
            <button type="submit" class="btn btn-warning">Save Flat</button>
            <a @onclick="@GoToOverview" class="btn btn-primary">Back</a>
            @if(!String.IsNullOrEmpty(Id))
            {
                <a @onclick="@DeleteFlat" class="btn btn-danger">Delete Flat</a>
            }
        </div>

        <label>@Message</label>
    </EditForm>

    </div>
    </div>
</div>
